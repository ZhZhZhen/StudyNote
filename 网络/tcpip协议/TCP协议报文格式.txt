每一行占32位，序号代表行数
TCP头部部分
1、16位源端口，16位目的端口。该端口实际由端口号+IP地址组合而来

2、序号Sequence Number(SN)，用于标识传输报文中的编号，用于TCP中保证次序和完整性。当标志位SYN=1时表示连接建立阶段，会生成随机序号ISN；SYN=0时表示数据传输正式开始，第一个报文SN为ISN+1，之后的报文SN为上一个报文SN+上一个报文的包净荷（除去TCP头部）字节数。

3、确认序号Acknowledgment Number(AN)，用于表示报文接收端期望接收的序号。当ACK=1时，AN才有效，规定中连接建立后所有发送的报文ACK必须为1。AN = 所接收报文的SN+包净荷字节数，同样等于对方下一个报文的SN

4、
4位表示TCP首部的长度，用于表示首部的行数（每行32位），因此首部最多可以达到15行，没有任何选项的首部一般为5行，即20字节。
6位预留空位，保留字段，暂时无作用。
6位控制标志，分别位URG（1表示紧急指针字段有效）,ACK（1表示确认号有效，建立连接后的报文ACK都为1）,PSH（1表示接收方收到数据后立即交给上层，而不是直到整个缓冲区满）,RST（1表示复位TCP连接，用于重置连接，拒绝无效数据段/连接请求）,SYN（1表示连接请求或响应连接）,FIN（1表示请求释放连接）
16位的窗口大小，用于TCP滑动窗口进行流量控制，表示发送端可用的缓冲区大小，是动态变化的，另一方根据该值调整调整发送数据的速率。

5、
16位校验和，对整个TCP报文进行校验和计算。
16位紧急指针，搭配控制标志的URG使用，是一个偏移量，和SN相加表示紧急数据的最后一个字节序号，TCP接收方必须通知上层实体。

6~N、可选项和填充部分
该部分为根据需要增加的选项，如果不足32位，需要填充位补齐（额外的0），该部分不是必须的，因此TCP首部最小为20字节
常见的有最长报文大小MSS，表示每个报文段中数据部分的最大长度（不包括首部），默认为536，后续传输根据这个值分段数据，收发双方通常都在通信的第一个报文段（SYN=1）中指明，并且取二者最小值作为最长报文大小。一般来说太小会导致首部占比在传输中变大，导致网络利用率变低；太大则会导致IP分片，导致过多的丢失重传从而降低效率。

数据部分
TCP首部之后即为数据部分，数据部分可为空，比如连接建立和终止时，仅有TCP首部。有时候也会用仅带TCP首部的报文来确认收到的数据。


可靠性保障：
1、应用数据通过MSS分割成合适的数据块
2、定时器重传，如果超时依然未收到确认包则重传
3、首部区域的校验和对整个报文进行校验
4、滑动窗口提供流量控制，数据排序，重复数据丢弃，以及丢失数据的重传提醒

*UDP的首部仅仅8字节
分别为16位源端口，16位目的端口，
16位用户数据报长度（包括首部和数据），16位校验和。
