1、地址
MAC地址：也叫物理地址，一般无法修改，如同设备的唯一身份，长48位，前24位代表网络硬件制造商编号，后24位厂家自己分配

IP地址：软件层面的地址，可以被修改，根据所在子网来进行调整。通过子网掩码&计算公共的部分来判断2个IP地址是否在同一子网下
2、设备
交换机：有多个端口，连接着主机与主机/主机与路由器。内部维护MAC地址表，记录端口和所连接设备MAC地址的映射

路由器：有多个端口，每个端口都有独立的MAC地址和IP地址。当一个设备向不同子网的地址发送数据时，会向默认网关（手动配置的地址，指向路由器的IP地址）发送数据。内部维护着arp缓存表，路由表。其中路由表记录（IP地址+子网掩码）和端口的映射/（IP地址+子网掩码）和下一跳映射。
*当路由器和路由器相连时，路由表中有一个下一条地址会指向下一个路由器IP，该记录无映射端口号，而是会根据下一条地址重新匹配路由表寻找端口号

arp缓存表：由主机和路由器维护，因为发送数据包在链路层依然要通过交换机，而交换机维护的是MAC地址和端口的映射。因此在向目标IP地址发送时我们需要知道对应的MAC地址。所以arp缓存表维护的是IP地址和MAC地址的映射。该表一开始是空的，会通过广播（猜测广播范围就是所连交换机的各个端口）arp请求来找到目标IP的MAC地址(由对方响应)。

3、传输流程（包的实际传输是委托给交换机来完成的）
主机视角：首先要知道自己和对方的IP，然后通过子网掩码判断是否为同一个子网，相同则通过arp缓存表查找对方IP的MAC地址并发送。不同则查找默认网关的MAC地址并发送。

交换机视角：收到的数据包包含MAC地址，然后查找MAC地址映射表，找到就从指定端口发送，否则广播发送。

路由器视角：收到的数据包包含目标IP地址，通过路由表查找映射，找到了从指定端口发出去（有时候路由器也有默认网关指向另一个路由器）。否则返回一个路由不可达的数据包
