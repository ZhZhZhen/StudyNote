# 换肤框架的流程
- 资源的获取
    - 通过反射创建AssetManager，并反射调用其addAssetPath()方法传入自己的资源路径
    - 使用创建的AssetManager创建Resource，其中Resource构造方法需要的参数可以通过系统Resource获取相同配置
    - 通过该Resource获取资源
- 换肤流程
    - 使用Factory代理LayoutInflate()的创建流程，可以主动调用原先系统创建View的方法(因为Factory只能设置一次，如果想要不影响原先创建View的功能，得主动调用他们)如AppcompatDelegate.onCreateaView。LayoutInflater.createView()。
    - 重写Factory/Factory2.onCreateView()：1、调用系统创建的View，来获取View。2、通过参数中的Attribute来获取需要更改的View属性，以及其需要的资源id，类型。（如background，textColor）。然后存储这些信息。3、通过自己反射创建的AssetManager获取的Resource来根据刚刚的信息查找对应的资源。4、调用setBackgroundColor()，setTextColor()等方法设置样式。
    - 对于已经创建好了View想要去修改样式：1、因为刚刚代理过程中通过attribute获取了对应View需要更改哪些属性，这个时候只要获取这些信息，就能知道要调用哪些View的哪些方法了。2、通过Resource获取资源并修改。
        - 对于动态创建的View：因为这些View不走inflate()流程。所以需要额外的去收集这些View的attribute中需要更改的信息。